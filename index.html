<html>
	<head>
		<title>Previsualizador</title>
		<link href="https://fonts.googleapis.com/css?family=Lato:300,400|Teko:500" rel="stylesheet">
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="animate.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	</head>
	<body>

		<section id="box">
			<div class="title">
				<span></span><i>Resultado</i><span></span>
			</div>
			<div id="number"></div>
			<div class="graph">
				<img src="car.svg">
			</div>
		</section>

		<script>
			var string_txt = "";

			setInterval(function() {
			    var ajax = new XMLHttpRequest();
			    ajax.onreadystatechange = function() {
			        if (ajax.readyState == 4) {
			            if (ajax.responseText != string_txt) {
			                // Debugg
			                //console.log('file changed => ' + ajax.responseText);
			                $('#number').html('<span class="animated fadeIn">' + ajax.responseText + '</span>');
			                string_txt = ajax.responseText;
			            }
			        }
			    };
			    ajax.open("POST", "result.txt", true); // Es importante usar POST para evitar cache
			    ajax.send();
			}, 1000);
		</script>
	</body>
</html>